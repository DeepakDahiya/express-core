# Copyright (c) 2020 The Brave Authors. All rights reserved.
# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this file,
# You can obtain one at https://mozilla.org/MPL/2.0/.

import("//build/config/android/rules.gni")

assert(current_toolchain == default_toolchain)

java_binary("java_bytecode_rewriter") {
  sources = [
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveActivityClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveAppHooksClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveAppMenuClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveApplicationImplBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveAutocompleteCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveAutocompleteMediatorBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveAutocompleteMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveAutofillPopupBridgeClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkActivityClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkBridgeClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkDelegateClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkManagerCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkManagerMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkModelClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkPageClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkToolbarClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkToolbarCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBookmarkUtilsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBottomControlsCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveBottomControlsMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveCachedFlagClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveChromeContextMenuPopulatorAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveClassVisitor.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveCommandLineInitUtilClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveContentSettingsResourcesClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveCustomizationProviderDelegateImplClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveDefaultBrowserPromoUtilsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveDownloadMessageUiControllerImplClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveDropdownItemViewInfoListBuilderClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveDropdownItemViewInfoListManagerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveDynamicColorsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveExternalNavigationHandlerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveFeedSurfaceCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveFeedSurfaceMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveFourStateCookieSettingsPreferenceBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveFreIntentCreatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveHelpAndFeedbackLauncherImplClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveHomepageManagerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveIncognitoToggleTabLayoutClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveIntentHandlerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveLaunchIntentDispatcherClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveLauncherActivityClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveLocationBarCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveLocationBarLayoutClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveLocationBarMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveLogoMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveMainPreferenceBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveManageAccountDevicesLinkViewClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveManageSyncSettingsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveMenuButtonCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveMimeUtilsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveMostVisitedTilesMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveNewTabPageClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveNewTabPageLayoutClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveNotificationBuilderClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveNotificationManagerProxyImplClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveNotificationPermissionRationaleDialogControllerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePasswordAccessReauthenticationHelperClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePasswordSettingsBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePermissionDialogDelegateClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePermissionDialogModelClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePreferenceFragmentClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePreferenceKeyCheckerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePrivateTabReauthCoordinatorBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BravePureJavaExceptionReporterClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveQueryTileSectionClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveReaderModeManagerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveReturnToChromeUtilClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSearchEngineAdapterClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSearchEnginePreferenceClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSettingsLauncherImplClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveShareDelegateImplClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSingleCategorySettingsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSingleWebsiteSettingsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSiteSettingsCategoryClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSiteSettingsDelegateClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveSiteSettingsPreferencesBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveStartupPaintPreviewHelperClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveStatusMediatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabGroupModelFilterClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabGroupUiCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabHelpersClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabSwitcherModeTTCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabSwitcherModeTopToolbarClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabUiThemeProviderClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabbedActivityClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTabbedRootUiCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveThemeUtilsClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTileViewClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveToolbarLayoutClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveToolbarManagerClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTopToolbarCoordinatorClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveTranslateCompactInfoBarBaseClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveVariationsSeedFetcherClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveWebsiteClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/BraveWebsitePermissionsFetcherClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/ByteCodeProcessor.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/ClassPathValidator.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/ThreadAssertionClassAdapter.java",
    "//express/build/android/bytecode/java/org/brave/bytecode/TypeUtils.java",
  ]
  main_class = "org.brave.bytecode.ByteCodeProcessor"
  deps = [
    "//third_party/android_deps:org_ow2_asm_asm_java",
    "//third_party/android_deps:org_ow2_asm_asm_tree_java",
    "//third_party/android_deps:org_ow2_asm_asm_util_java",
  ]
  wrapper_script_name = "helper/java_bytecode_rewriter"
  enable_bytecode_checks = false
}
